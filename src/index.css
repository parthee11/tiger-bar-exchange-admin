@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* 
   * Using Tiger Bar Exchange color palette from frontend app:
   * Primary: #ED1C24 (red)
   * Secondary: #002525 (dark teal)
   */
  :root {
    /* Light theme */
    --background: 0 0% 100%;
    --foreground: 180 100% 7.5%; /* Based on secondary color #002525 */

    --card: 0 0% 100%;
    --card-foreground: 180 100% 7.5%;

    --popover: 0 0% 100%;
    --popover-foreground: 180 100% 7.5%;

    --primary: 357 85% 52%; /* Based on primary color #ED1C24 */
    --primary-foreground: 0 0% 100%;

    --secondary: 180 100% 7.5%; /* Based on secondary color #002525 */
    --secondary-foreground: 0 0% 100%;

    --muted: 180 20% 96%;
    --muted-foreground: 180 40% 40%;

    --accent: 357 85% 52%; /* Same as primary */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    --border: 180 10% 90%;
    --input: 180 10% 90%;
    --ring: 357 85% 52%; /* Same as primary */

    --radius: 0.5rem;
  }

  .dark {
    /* Dark theme - optimized for TV screens */
    --background: 180 100% 7.5%; /* Secondary color #002525 as background */
    --foreground: 0 0% 98%;

    --card: 180 100% 10%; /* Slightly lighter than background */
    --card-foreground: 0 0% 98%;

    --popover: 180 100% 7.5%;
    --popover-foreground: 0 0% 98%;

    --primary: 357 85% 52%; /* Primary color #ED1C24 */
    --primary-foreground: 0 0% 100%;

    --secondary: 180 100% 15%; /* Lighter version of secondary */
    --secondary-foreground: 0 0% 100%;

    --muted: 180 50% 15%;
    --muted-foreground: 180 20% 80%;

    --accent: 357 85% 52%; /* Same as primary */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;

    --border: 180 50% 15%;
    --input: 180 50% 15%;
    --ring: 357 85% 52%; /* Same as primary */
  }
}


@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Market Crash Visual Effects */
@layer utilities {
  /* Screen-wide red blinking effect */
  .market-crash-blink-overlay {
    background: rgba(239, 68, 68, 0.15);
    animation: marketCrashBlink 1.5s infinite ease-in-out;
  }

  /* Side spreading effects */
  .market-crash-left-spread {
    background: linear-gradient(90deg, 
      rgba(239, 68, 68, 0.4) 0%, 
      rgba(239, 68, 68, 0.2) 50%, 
      transparent 100%);
    animation: marketCrashSpreadLeft 2s infinite ease-in-out;
  }

  .market-crash-right-spread {
    background: linear-gradient(-90deg, 
      rgba(239, 68, 68, 0.4) 0%, 
      rgba(239, 68, 68, 0.2) 50%, 
      transparent 100%);
    animation: marketCrashSpreadRight 2s infinite ease-in-out;
  }

  .market-crash-top-spread {
    background: linear-gradient(180deg, 
      rgba(239, 68, 68, 0.3) 0%, 
      rgba(239, 68, 68, 0.1) 50%, 
      transparent 100%);
    animation: marketCrashSpreadTop 1.8s infinite ease-in-out;
  }

  .market-crash-bottom-spread {
    background: linear-gradient(0deg, 
      rgba(239, 68, 68, 0.3) 0%, 
      rgba(239, 68, 68, 0.1) 50%, 
      transparent 100%);
    animation: marketCrashSpreadBottom 1.8s infinite ease-in-out;
  }

  /* Content tint during market crash */
  .market-crash-content-tint {
    filter: contrast(1.1) saturate(1.2);
    transition: filter 0.3s ease;
  }

  /* Animation keyframes */
  @keyframes marketCrashBlink {
    0% { opacity: 0; }
    15% { opacity: 0.8; }
    30% { opacity: 0.2; }
    45% { opacity: 0.9; }
    60% { opacity: 0.1; }
    75% { opacity: 0.7; }
    100% { opacity: 0; }
  }

  @keyframes marketCrashSpreadLeft {
    0% { 
      transform: translateX(-100%); 
      opacity: 0; 
    }
    50% { 
      transform: translateX(0); 
      opacity: 1; 
    }
    100% { 
      transform: translateX(-20%); 
      opacity: 0.6; 
    }
  }

  @keyframes marketCrashSpreadRight {
    0% { 
      transform: translateX(100%); 
      opacity: 0; 
    }
    50% { 
      transform: translateX(0); 
      opacity: 1; 
    }
    100% { 
      transform: translateX(20%); 
      opacity: 0.6; 
    }
  }

  @keyframes marketCrashSpreadTop {
    0% { 
      transform: translateY(-100%); 
      opacity: 0; 
    }
    50% { 
      transform: translateY(0); 
      opacity: 1; 
    }
    100% { 
      transform: translateY(-20%); 
      opacity: 0.7; 
    }
  }

  @keyframes marketCrashSpreadBottom {
    0% { 
      transform: translateY(100%); 
      opacity: 0; 
    }
    50% { 
      transform: translateY(0); 
      opacity: 1; 
    }
    100% { 
      transform: translateY(20%); 
      opacity: 0.7; 
    }
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    .market-crash-blink-overlay,
    .market-crash-left-spread,
    .market-crash-right-spread,
    .market-crash-top-spread,
    .market-crash-bottom-spread {
      animation: none;
    }
    
    .market-crash-blink-overlay {
      opacity: 0.2;
    }
    
    .market-crash-left-spread,
    .market-crash-right-spread,
    .market-crash-top-spread,
    .market-crash-bottom-spread {
      opacity: 0.3;
    }
  }
}